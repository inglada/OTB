# Add an option to build or not build the FltkImageViewer Library


IF(OTB_USE_VISU_GUI)
        IF(NOT OTB_USE_EXTERNAL_FLTK)
	        ADD_SUBDIRECTORY( FLTK )
        ENDIF(NOT OTB_USE_EXTERNAL_FLTK)
ENDIF(OTB_USE_VISU_GUI)

IF(NOT OTB_USE_EXTERNAL_ITK)
  IF(NOT OTB_USE_DEPRECATED)
    SET(GDCM_LEGACY_REMOVE ON)
  ENDIF(NOT OTB_USE_DEPRECATED)
  ADD_SUBDIRECTORY(ITK)
ENDIF(NOT OTB_USE_EXTERNAL_ITK)

IF(NOT OTB_USE_EXTERNAL_OPENTHREADS)
  ADD_SUBDIRECTORY( otbopenthreads )
ENDIF(NOT OTB_USE_EXTERNAL_OPENTHREADS)


IF(OTB_USE_LIBLAS)
IF(NOT OTB_USE_EXTERNAL_LIBLAS)
  ADD_SUBDIRECTORY( otbliblas )
ENDIF(NOT OTB_USE_EXTERNAL_LIBLAS)
ENDIF(OTB_USE_LIBLAS)

IF(OTB_COMPILE_JPEG2000)
  ADD_SUBDIRECTORY( otbopenjpeg )
ENDIF(OTB_COMPILE_JPEG2000)


IF(NOT OTB_USE_EXTERNAL_EXPAT)
	ADD_SUBDIRECTORY( otbexpat )
ENDIF(NOT OTB_USE_EXTERNAL_EXPAT)

IF(NOT OTB_USE_EXTERNAL_BOOST)
  ADD_SUBDIRECTORY(BGL)
ENDIF(NOT OTB_USE_EXTERNAL_BOOST)


IF(OTB_COMPILE_MUPARSER)
        ADD_SUBDIRECTORY(otbmuparser)
ENDIF(OTB_COMPILE_MUPARSER)


ADD_SUBDIRECTORY(otbsvm )
ADD_SUBDIRECTORY(otbknn )
ADD_SUBDIRECTORY(dxflib)
ADD_SUBDIRECTORY(InsightJournal)
ADD_SUBDIRECTORY(otbossim)
ADD_SUBDIRECTORY(otbossimplugins)
ADD_SUBDIRECTORY(otb6S)
ADD_SUBDIRECTORY(tinyXMLlib)
ADD_SUBDIRECTORY(otbkml)
ADD_SUBDIRECTORY(otbedison)
ADD_SUBDIRECTORY(otbsiftfast)
ADD_SUBDIRECTORY(otbconfigfile)

IF(BUILD_TESTING)
        ADD_SUBDIRECTORY( Dart )
ENDIF(BUILD_TESTING)


#-----------------------------------------------------------------------------
# Install the UseOTB.cmake file configured from the top-level.
IF(NOT OTB_INSTALL_NO_DEVELOPMENT)
  INSTALL(FILES ${OTB_BINARY_DIR}/Utilities/OTBConfig.cmake
    DESTINATION ${OTB_INSTALL_PACKAGE_DIR_CM24}
    COMPONENT Development)
ENDIF(NOT OTB_INSTALL_NO_DEVELOPMENT)
