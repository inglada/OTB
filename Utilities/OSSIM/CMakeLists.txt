PROJECT(OSSIM)

INCLUDE(CheckIncludeFile)
CHECK_INCLUDE_FILE("dirent.h" CMAKE_HAVE_DIRENT_H)
CHECK_INCLUDE_FILE("unistd.h" CMAKE_HAVE_UNISTD_H)
CHECK_INCLUDE_FILE("getopt.h" CMAKE_HAVE_GETOPT_H)
CHECK_INCLUDE_FILE("fcntl.h" CMAKE_HAVE_FCNTL_H)
CHECK_INCLUDE_FILE("dbmalloc.h" CMAKE_HAVE_DBMALLOC_H)
CHECK_INCLUDE_FILE("malloc.h" CMAKE_HAVE_MALLOC_H)
CHECK_INCLUDE_FILE("dlfcn.h" CMAKE_HAVE_DLFCN_H)

IF(WIN32)
  IF(NOT BORLAND)
    IF(NOT CYGWIN)
      IF(NOT MINGW)
          ADD_DEFINITIONS(-DOSSIMMAKINGDLL)
      ENDIF(NOT MINGW)
    ENDIF(NOT CYGWIN)
  ENDIF(NOT BORLAND)
ENDIF(WIN32)


# Where to find the tiffio.h, tiff.h and jpeglib.h
IF(OTB_USE_EXTERNAL_ITK)
INCLUDE_DIRECTORIES(${ITK_SOURCE_DIR}/Utilities/itktiff)
INCLUDE_DIRECTORIES(${ITK_SOURCE_DIR}/Utilities/itkjpeg)
ELSE (OTB_USE_EXTERNAL_ITK)
INCLUDE_DIRECTORIES(${OTB_SOURCE_DIR}/Utilities/ITK/Utilities/itktiff)
INCLUDE_DIRECTORIES(${OTB_SOURCE_DIR}/Utilities/ITK/Utilities/itkjpeg)

ENDIF(OTB_USE_EXTERNAL_ITK)



CONFIGURE_FILE(${OTB_SOURCE_DIR}/Utilities/OSSIM/include/ossim/ossimConfig.h.in
	       ${OTB_BINARY_DIR}/Utilities/OSSIM/include/ossim/ossimConfig.h)
SUBDIRS(src include)
